

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>网络通信 &mdash; unix_c 1.0.1 文档</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../../genindex.html"/>
        <link rel="search" title="搜索" href="../../search.html"/>
    <link rel="top" title="unix_c 1.0.1 文档" href="../../index.html"/>
        <link rel="prev" title="Welcome to unix_c’s documentation!" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> unix_c
          

          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">网络通信</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">一、基本概念</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#osi">1.协议模型（OSI模型）</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tcp-ip">2.TCP/IP协议族</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">3.消息流和协议栈</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ip">4.IP地址</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#socket">二、套接字(Socket)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">1.接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">2.异构</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">3.模式</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">4.绑定</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">5.函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">6.编程</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tcp">三、基于TCP协议的客户机/服务器模型</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">1.TCP协议的基本特征</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">2.编程模型</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">3.常用函数</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">unix_c</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>网络通信</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/code/day14/day14.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>网络通信<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>一、基本概念<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<div class="section" id="osi">
<h3>1.协议模型（OSI模型）<a class="headerlink" href="#osi" title="永久链接至标题">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">应用层</span> <span class="o">-</span> <span class="n">应用程序</span>
<span class="n">表示层</span> <span class="o">-</span> <span class="n">数据的组织</span>
<span class="n">会话层</span> <span class="o">-</span> <span class="n">数据的交换</span>
<span class="n">传输层</span> <span class="o">-</span> <span class="n">数据的封包</span>
<span class="n">网络层</span> <span class="o">-</span> <span class="n">网络的拓扑结构</span>
<span class="n">数据链路层</span> <span class="o">-</span> <span class="n">数字信号的电子化</span>
<span class="n">物理层</span> <span class="o">-</span> <span class="n">网络设备</span>
</pre></div>
</div>
</div>
<div class="section" id="tcp-ip">
<h3>2.TCP/IP协议族<a class="headerlink" href="#tcp-ip" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>1)TCP(Transmission Control Protocol)，传输控制协议</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>面向连接的协议。
逻辑上模拟为电话业务。
</pre></div>
</div>
<ul class="simple">
<li>2)UDP(User Datagram Protocol)，用户数据报文协议</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>面向无连接的协议。
逻辑上模拟为邮政业务。
</pre></div>
</div>
<ul class="simple">
<li>3)IP(Internet Protocol)，互联网协议</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>工作在TCP和UDP协议的底层。
实现在互联网上传递信息的基本机制。

ISO            TCP/IP
应用层
表示层        应用层      telnet/ftp/http
会话层
------------------------
传输层        传输层      TCP/UDP
网络层        互联网层   IP
------------------------
数据链路层 网络接口层 硬件/驱动
物理层
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>3.消息流和协议栈<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>有协议模型的不同层次构成了一个自下而上的协议栈，
所发送数据的数据沿着协议栈自上而下层层打包，
最终变成可以在物理介质上传输的电子信号。
接收数据时再将物理介质上的电子信号，沿着协议栈自下向上，
层层解包，最终变成应用可以处理的数据内容。</p>
</div>
<div class="section" id="ip">
<h3>4.IP地址<a class="headerlink" href="#ip" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>1)IP地址是Internet中唯一标识一台计算机的地址。</li>
</ul>
<dl class="docutils">
<dt>::</dt>
<dd>A.IPv4：32位，IPv6：128位
B.点分十进制字符串表示：0x01020304 -&gt; 1.2.3.4</dd>
</dl>
<ul class="simple">
<li>2)IP地址分级</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>A级：0XXXXXXX | XXXXXXXX XXXXXXXX XXXXXXXX
         网络地址       本机地址
B级：10XXXXXX XXXXXXXX | XXXXXXXX XXXXXXXX
         网络地址                          本机地址
C级：110XXXXX XXXXXXXX XXXXXXXX | XXXXXXXX
网络地址                                            本机地址
172.40.0.10
D级：1110XXXX XXXXXXXX XXXXXXXX XXXXXXXX
         多播地址
</pre></div>
</div>
<ul class="simple">
<li>3)子网掩码</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>IP地址 &amp; 子网掩码 = 网络地址
IP地址 &amp; ~子网掩码 = 本机地址
IP地址：192.168.182.48
子网掩码：255.255.255.0
网络地址：192.168.182.0
本机地址：0.0.0.48
</pre></div>
</div>
</div>
</div>
<div class="section" id="socket">
<h2>二、套接字(Socket)<a class="headerlink" href="#socket" title="永久链接至标题">¶</a></h2>
<div class="section" id="id4">
<h3>1.接口<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">QQ</span>      \
<span class="n">LeapFTP</span>  <span class="o">&gt;</span> <span class="n">socket</span> <span class="o">-&gt;</span> <span class="n">TCP</span><span class="o">/</span><span class="n">UDP</span> <span class="o">-&gt;</span> <span class="n">IP</span> <span class="o">-&gt;</span> <span class="n">网络驱动</span> <span class="o">-&gt;</span> <span class="n">网络硬件</span>
<span class="n">IE</span>      <span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>2.异构<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>Java&#64;UNIX&#64;大型机&lt;-&gt;socket&lt;-&gt;C&#64;Windows&#64;PC机</p>
</div>
<div class="section" id="id6">
<h3>3.模式<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>1)点对点(Peer-to-Peer，P2P)，一对一通信。</li>
<li>2)客户机/服务器(Client/Server，C/S)，一对多通信。</li>
<li>3)浏览器/服务器(Browser/Server，B/S)，一个服务器为多个浏览器提供服务。</li>
</ul>
</div>
<div class="section" id="id7">
<h3>4.绑定<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<blockquote>
<div>将逻辑的套接字对象与物理的通信载体关联起来。</div></blockquote>
</div>
<div class="section" id="id8">
<h3>5.函数<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>1)创建套接字</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;sys/socket.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">socket</span> <span class="p">(</span><span class="kt">int</span> <span class="n">domain</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">protocol</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li>domain - 域</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>AF_UNIX/AF_LOCAL/AF_FILE，本地通信
AF_INET，基于IPv4的网络通信
AF_INET6，基于IPv6的网络通信
AF_PACKET，基于IP的底层协议进行网络通信
</pre></div>
</div>
<ul class="simple">
<li>type - 类型</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>SOCKET_STREAM，流式套接字，基于TCP协议通信
SOCKET_DGRAM，数据报套接字，基于UDP协议通信
</pre></div>
</div>
<ul class="simple">
<li>protocal - 特殊协议，目前置0即可</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>成功返回套接字描述符，失败返回-1。
套接字描述符类似于文件描述符，UNIX把网络当成文件看待。
发送数据即写文件，接收数据即读文件，一切皆文件。
</pre></div>
</div>
<ul class="simple">
<li>2)通信地址</li>
</ul>
<p>A.基本地址结构</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">sockaddr</span> <span class="p">{</span>
  <span class="n">sa_family_t</span> <span class="n">sa_family</span><span class="p">;</span> <span class="c1">// 地址族</span>
  <span class="kt">char</span> <span class="n">sa_data</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span> <span class="c1">// 地址值</span>
<span class="p">};</span>
</pre></div>
</div>
<p>B.网络地址结构</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;netinet/in.h&gt;</span><span class="cp"></span>
<span class="k">struct</span> <span class="n">sockaddr_in</span> <span class="p">{</span>
  <span class="n">sa_family_t</span> <span class="n">sin_family</span><span class="p">;</span> <span class="c1">// 地址族，AF_INET/AF_INET6</span>
  <span class="n">in_port_t</span>    <span class="n">sin_port</span><span class="p">;</span> <span class="c1">// unsigned short，网络字节序的端口号</span>
                                   <span class="c1">// 逻辑上表示一个参与通信的进程，</span>
                                   <span class="c1">// 0-1024，公知端口，WWW-80</span>
                                   <span class="c1">// FTP-21，TELNET-23，...</span>
                                   <span class="c1">// 自己编写的应用程序使用1024以上的</span>
                                   <span class="c1">// 端口号</span>
  <span class="k">struct</span> <span class="n">in_addr</span> <span class="n">sin_addr</span><span class="p">;</span> <span class="c1">// 网络字节序的IP地址</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>小低低：小端字节序，低位低地址
int i = 0x12345678;
小端机器：低地址--------&gt;高地址
                78      56     34      12  -&gt; 0x78563412
大端机器：低地址--------&gt;高地址
                12      34     56      78

主机字节序-&gt;网络字节序-&gt;发送
接收-&gt;网络字节序-&gt;主机字节序
网络字节序就是大端字节序
欲从小端机器发送0x12345678：L 78 56 34 12 H
现将其转换为网络字节序：L 12 34 56 78 H
发送到大端机器上：L 12 34 56 78 H
从网络字节序转到大端字节序：L 12 34 56 78 H -&gt; 0x12345678
</pre></div>
</div>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">in_addr</span> <span class="p">{</span>
  <span class="n">in_addr_t</span> <span class="n">s_addr</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="kt">uint32_t</span> <span class="n">in_addr_t</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="kt">uint32_t</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li>3)将套接字和通信地址绑定</li>
</ul>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">bind</span> <span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span> <span class="n">sockaddr</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span>
  <span class="kt">socklen_t</span> <span class="n">addrlen</span><span class="p">);</span>

<span class="c1">// 成功返回0，失败返回-1。</span>
</pre></div>
</div>
<ul class="simple">
<li>4)将套接字和对方通信地址连接</li>
</ul>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">connect</span> <span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span> <span class="n">sockaddr</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span>
  <span class="kt">socklen_t</span> <span class="n">addrlen</span><span class="p">);</span>
<span class="c1">// 成功返回0，失败返回-1。</span>
</pre></div>
</div>
<ul class="simple">
<li>5)用读写文件的方式通信：read/write</li>
<li>6)关闭套接字：close</li>
<li>7)字节序转换</li>
</ul>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;arpa/inet.h&gt;</span><span class="cp"></span>

<span class="c1">// 主机字节序-&gt;网络字节序</span>
<span class="kt">uint32_t</span> <span class="nf">htonl</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">hostlong</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="nf">htons</span> <span class="p">(</span><span class="kt">uint16_t</span> <span class="n">hostshort</span><span class="p">);</span>

<span class="c1">// 网络字节序-&gt;主机字节序</span>
<span class="kt">uint32_t</span> <span class="nf">ntohl</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">netlong</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="nf">ntohs</span> <span class="p">(</span><span class="kt">uint16_t</span> <span class="n">netshort</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li>8)IP地址转换</li>
</ul>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="c1">//点分十进制字符串-&gt;网络字节序整数形式的IP地址</span>
<span class="n">in_addr_t</span> <span class="nf">inet_addr</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">cp</span><span class="p">);</span>

<span class="c1">//网络字节序整数形式的IP地址-&gt;点分十进制字符串</span>
<span class="kt">char</span><span class="o">*</span> <span class="nf">inet_ntoa</span> <span class="p">(</span><span class="k">struct</span> <span class="n">in_addr</span> <span class="n">in</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>6.编程<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>服务器：创建套接字-&gt;准备地址结构并绑定-&gt;接收数据-&gt;关闭套接字
客户机：创建套接字-&gt;准备地址结构并连接-&gt;发送数据-&gt;关闭套接字
</pre></div>
</div>
</div>
</div>
<div class="section" id="tcp">
<h2>三、基于TCP协议的客户机/服务器模型<a class="headerlink" href="#tcp" title="永久链接至标题">¶</a></h2>
<div class="section" id="id10">
<h3>1.TCP协议的基本特征<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>1)面向连接：虚拟电路，建立可靠的连接，稳定地传输数据，人为断开连接。</li>
<li>2)传输可靠：发送数据、等待确认、丢包重传。</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>ABCDEF
A-&gt;              -+
B-&gt;               |
C-&gt;               | 时间窗口
D-&gt;               |
E-&gt; &lt;-A OK -+
F-&gt; &lt;-B OK
       &lt;-C OK
       &lt;-D OK
       &lt;-E OK
       &lt;-F OK

每个发送都有应答，若在一定的时间窗口内没有收到应答，
重新再发。
</pre></div>
</div>
<ul class="simple">
<li>3)保证顺序：有序发送，有序接收，丢弃重复。</li>
<li>4)流量控制：接收端实时通知发送端接收窗口大小，防止溢出。</li>
<li>5)传输速度慢。</li>
</ul>
</div>
<div class="section" id="id11">
<h3>2.编程模型<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">服务器</span>                             <span class="n">客户机</span>
<span class="o">=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span>
<span class="n">创建套接字</span> <span class="n">socket</span>           <span class="n">创建套接字</span> <span class="n">socket</span>
<span class="n">准备地址</span>   <span class="n">sockaddr_in</span>      <span class="n">准备地址</span>   <span class="n">sockaddr_in</span>
<span class="n">绑定地址</span>   <span class="n">bind</span>
<span class="n">监听套接字</span> <span class="n">listen</span>
<span class="n">接受连接</span>   <span class="n">accept</span>           <span class="n">建立连接</span>   <span class="n">connect</span>
<span class="n">接收数据</span>   <span class="n">read</span><span class="o">/</span><span class="n">recv</span>        <span class="n">发送数据</span>   <span class="n">write</span><span class="o">/</span><span class="n">send</span>
<span class="n">发送数据</span>   <span class="n">write</span><span class="o">/</span><span class="n">send</span>       <span class="n">接收数据</span>   <span class="n">read</span><span class="o">/</span><span class="n">recv</span>
<span class="n">关闭套接字</span> <span class="n">close</span>            <span class="n">关闭套接字</span> <span class="n">close</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3>3.常用函数<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;sys/socket.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">listen</span> <span class="p">(</span>
    <span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span>   <span class="c1">// 套接字描述符</span>
    <span class="kt">int</span> <span class="n">backlog</span>  <span class="c1">// 未决连接请求队列的最大长度，1024</span>
<span class="p">);</span>
<span class="c1">//成功返回0，失败返回-1。</span>

<span class="kt">int</span> <span class="nf">accept</span> <span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sockaddr</span><span class="o">*</span> <span class="n">addr</span><span class="p">,</span>
  <span class="kt">socklen_t</span><span class="o">*</span> <span class="n">addrlen</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">从sockfd参数所标识套接字的未决连接请求队列中，</span>
<span class="cm">提取第一个连接请求，同时创建一个新的套接字，</span>
<span class="cm">用于在该连接中通信，返回该套接字描述符。</span>
<span class="cm">同时通过后两个参数向调用者输出客户机的地址信息。</span>
<span class="cm">失败返回-1。</span>
<span class="cm">*/</span>

<span class="kt">ssize_t</span> <span class="nf">recv</span> <span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span>
<span class="c1">// 返回实际接收到的字节数。</span>
<span class="c1">// 如果在该函数执行过程中，对方关闭了连接，返回0。</span>
<span class="c1">// 失败返回-1。</span>

<span class="kt">ssize_t</span> <span class="nf">send</span> <span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="kt">void</span> <span class="k">const</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span>
<span class="c1">//返回kk实际发送的字节数。失败返回-1。</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../../index.html" class="btn btn-neutral" title="Welcome to unix_c’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Jiang_xmin.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>